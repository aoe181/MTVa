######模板列表1
####网页
@@网页-MX Pro-1@@/index.php/vod/show/id/#ID#/page/#PN#.html@@/index.php/vod/search/page/#PN#/wd/#KEY#.html@@@@

####网页
@@网页-MX Pro-2@@/vodshow/#ID#--------#PN#---.html@@/vodsearch/#KEY#----------#PN#---.html@@@@

####网页
@@网页-MXone-1@@/index.php/vod/show/id/#ID#/page/#PN#.html@@/index.php/vod/search/page/#PN#/wd/#KEY#.html@@@@

####网页
@@网页-首途-1@@/vodshow/#ID#--------#PN#---/@@/vodsearch/#KEY#----------#PN#---/@@@@

####网页
@@网页-新海螺@@/vodshow/#ID#--------#PN#---.html@@/vodsearch/#KEY#----------#PN#---.html@@@@

####网页
@@网页-v10(影视站)@@/type/#ID#-#PN#.html@@/search/#KEY#----------#PN#---.html@@@@

####网页
@@网页-v10(采集站)@@/index.php/vod/type/id/#ID#/page/#PN#.html@@/index.php/vod/search/page/#PN#/wd/#KEY#.html@@@@

####采集接口
@@接口-CMS(json)@@?ac=videolist&t=#ID#&pg=#PN#@@?ac=videolist&wd=#KEY#&pg=#PN#@@Dalvik/2.1.0@@

####采集接口
@@接口-CMS(xml)@@?ac=videolist&t=#ID#&pg=#PN#@@?ac=videolist&wd=#KEY#&pg=#PN#@@Dalvik/2.1.0@@

####APP
@@接口-APP(小龟)@@video?tid=#ID#&class=#筛选class#&area=#筛选area#&lang=#筛选lang#&year=#筛选year#&limit=&pg=#PN#@@search?text=#KEY#&pg=#PN#@@Dart/2.14 (dart:io)@@

####APP
@@接口-APP(vod)@@?type=#ID#&class=#筛选class#&area=#筛选area#&lang=#筛选lang#&year=#筛选year#&by=#排序#&limit=&page=#PN#@@?wd=#KEY#&page=#PN#@@okhttp/4.1.0@@

####App
@@接口-APP(小主题)@@vod/getLists?type_id=#ID#&area=#筛选area#&lang=#筛选lang#&year=#筛选year#&order=#排序#&type_name=&page=#PN#&pageSize=21@@vod/getVodSearch?wd=#KEY#&page=#PN#&type@@Dart/2.19 (dart:io)@@

####APP
@@接口-iptv(zm)@@?ac=list&class=#ID#&area=#筛选area#&type=#筛选type#&start=#筛选year#&page=#PN#@@?ac=list&zm=#KEY#&page=#PN#@@Dalvik/2.1.0@@

####APP
@@接口-iptv(wd)@@?ac=list&class=#ID#&area=#筛选area#&type=#筛选type#&start=#筛选year#&page=#PN#@@?ac=list&wd=#KEY#&page=#PN#@@Dalvik/2.1.0@@

######本地新增2
var key=getVar("输入内容");
var 记录=[];
if(key.indexOf("=http")!=-1&&(key.indexOf("网页-MX")!=-1||key.indexOf("网页-首途")!=-1||key.indexOf("海螺")!=-1||
key.indexOf("网页-v10")!=-1||key.indexOf("接口-CMS")!=-1||key.indexOf("接口-APP")!=-1||key.indexOf("接口-iptv")!=-1||key.indexOf("直播订阅")!=-1||key.indexOf("e4a")!=-1)){
    var filename='站源.json';
    var 输入条目=key.match(/.+=http.+/g);
    for(var j=0;j<输入条目.length;j++){
        var title=e2Rex(输入条目[j],".tz(==)");
        var indexurl=e2Rex(输入条目[j],".ty(==).tz(##)");
        var typeurl=e2Rex(输入条目[j],".ty(##).tz(@@)");
        var searchurl=e2Rex(输入条目[j],".ty(@@).tz(€€)");
        var type=e2Rex(输入条目[j],".ty(€€).tz(**)");
        var UA=e2Rex(输入条目[j],".ty(**)");
        记录.push({"站名":title,"首页地址":indexurl,"分类地址":typeurl,"搜索地址":searchurl,"类型":type,"UA":UA});
    }
    if(readStr(filename)){
        var 新记录=JSON.parse(readStr(filename));
    }else{
        var 新记录=[];
    }
    for(var i in 记录){
        var 当前条目=[];当前条目.push(记录[i]);
        if(新记录.length==0){
            新记录.push({title:记录[i].类型,data:当前条目});
        }else{
            let res=新记录.some(item=>{
                if(item.title==记录[i].类型){
                    item.data=当前条目.concat(item.data.filter(d=>d.首页地址!=记录[i].首页地址));
                    return true
                }
            });
            if(!res){
                新记录.push({title:记录[i].类型,data:当前条目});
            }
        }
    }
    writeStr(filename,JSON.stringify(新记录));
    alert(title+"\n规则写入成功");
}else{
    alert("输入格式错误，请重新输入");
}
######修改站源3
var 站名=getVar("站名");
var 类型=getVar("类型");
var 首页地址=getVar("首页地址");
var filename='站源.json';
var 记录=getVar("源");
var 新记录=JSON.parse(readStr(filename));
let res=新记录.some(item=>{
    if(item.title == JSON.parse(记录).类型){
        item.data=item.data.filter(a=>a.首页地址!=JSON.parse(记录).首页地址);
        return true
    }
});
var AppName=e2Rex(记录,".json(站名)");
writeStr(filename,JSON.stringify(新记录));
######删除站源4
var 站名=getVar("站名");
var 类型=getVar("类型");
var 首页地址=getVar("首页地址");
var filename='站源.json';
var 记录=getVar("源");
var 新记录=JSON.parse(readStr(filename));
let res=新记录.some(item=>{
    if(item.title == JSON.parse(记录).类型){
        item.data=item.data.filter(a=>a.首页地址!=JSON.parse(记录).首页地址);
        return true
    }
});
var AppName=e2Rex(记录,".json(站名)");
writeStr(filename,JSON.stringify(新记录));
alert(AppName+"\n删除成功");
######分类列表5
var 首页地址=getVar("首页地址");
var 分类url=getVar("分类地址");
var 类型=getVar("类型");
var UA=getVar("UA");
function 头部导航(){
    var res={};var items=[];
    for(var j=0;j<列表.length;j++){
        var 标题=e2Rex(列表[j],标题规则);
        var 地址=e2Rex(列表[j],地址规则);
        if(类型.indexOf("接口")!=-1){
            var ID=e2Rex(列表[j],地址规则);
        }else if(类型.indexOf("网页")!=-1){
            if(地址.match(/\d+/)){
                if(地址.indexOf(".php")!=-1){
                    var ID=e2Rex(列表[j],地址规则).split("php")[1].match(/\d+/);
                }else{
                    var ID=e2Rex(列表[j],地址规则).match(/\d+/);
                }
            }else{
                var 后=e2Rex(列表[j],地址规则);
                if(后.indexOf(".html")!=-1){
                    var ID=e2Rex(后,'.t().ty2(/).tz(.html)');
                }else{
                    var ID=e2Rex(后,'.t().tz2(/).ty2(/)');
                }
            }
        }
        if(类型.indexOf("直播订阅")!=-1||类型.indexOf("e4a")!=-1){
          var 分类地址=地址
        }else{
          var 分类地址=首页地址+分类url.replace('#ID#',ID);
        }
        if(类型.indexOf("APP(vod)")!=-1){
            var str="";
            var 分类筛选=JSON.parse(String(列表[j])).type_extend;
            for(var key in 分类筛选){
                if(key=="class"||key=="area"||key=="lang"||key=="year"){
                    str=str+"筛选"+key+"+全部=+"+分类筛选[key].replace(/,/g,"+")+"\n";
                }
            }
            str+"\n"+"排序+全部=+最新=time+最热=hits+评分=score";
        }else if(类型.indexOf("小主题")!=-1){
            var str="";
            var 分类筛选=JSON.parse(String(列表[j])).type_extend;
            for(var key in 分类筛选){
                if(key!="class"){
                    str=str+"筛选"+key+"+全部=+"+分类筛选[key].replace(/,/g,"+")+"\n";
                }
            }
            str+"\n"+"排序+全部=+最新=time+最热=hits+评分=score";
        }else if(类型.indexOf("APP(小龟)")!=-1){
            var str="";
            var 分类筛选=JSON.parse(String(列表[j])).type_extend;
            for(var key in 分类筛选){
                if(key=="class"||key=="area"||key=="lang"||key=="year"){
                    str=str+"筛选"+key+"+全部=+"+分类筛选[key].replace(/,/g,"+")+"\n";
                }
            }
            str;
        }else if(类型.indexOf("iptv")!=-1){
            var str="筛选type+全部=+喜剧+爱情+恐怖+动作+科幻+剧情+战争+警匪+犯罪+动画+奇幻+武侠+冒险+枪战+恐怖+悬疑+惊悚+经典+青春+文艺+微电影+古装+历史+运动+农村+惊悚+惊悚+伦理+情色+福利+三级+儿童+网络电影\n筛选area+全部=+大陆+香港+台湾+美国+英国+法国+日本+韩国+德国+泰国+印度+西班牙+加拿大+其他\n筛选year+全部=+2022+2021+2020+2019+2018+2017+2016+2015+2014+2013+2012+2011+2010+2009+2008+2007+2006+2005+2004+2003+2002+2001+2000";
        }else{
            var str="";
        }
        if(类型.indexOf("网页")!=-1){
            var mode="JSOUP";
        }else{
            var mode="OKHTTP";
        }
        items.push({title:标题,url:分类地址,mode:mode,type_extend:str});
    }
    res.url=URL;
    res.data=items;
    return JSON.stringify(res);
}
if(类型.indexOf("CMS(xml)")!=-1){
    var URL=首页地址+"?ac=list";
    var 源码=getHttp(JSON.stringify({url:URL,redirect:false,head:{"User-Agent":UA}}));
    var 列表=e2Arr(源码,".xml(class ty)");
    var 标题规则=".t()";
    var 地址规则=".a(id)";
    头部导航();
}else if(类型.indexOf("CMS(json)")!=-1){
    var URL=首页地址+"?ac=list";
    var 源码=getHttp(JSON.stringify({url:URL,redirect:false,head:{"User-Agent":UA}}));
    var 列表=e2Arr(源码.replace(/<.*?>/g,""),".json(class)");
    var 标题规则=".json(type_name)";
    var 地址规则=".json(type_id)";
    头部导航();
}else if(类型.indexOf("APP(小龟)")!=-1){
    var URL=首页地址+"nav";
    var 源码=getHttp(JSON.stringify({url:URL,redirect:false,head:{"User-Agent":UA}}));
    var 列表=e2Arr(源码.replace(/<.*?>/g,""),".json(list).or().json(data)");
    var 标题规则=".json(type_name)";
    var 地址规则=".json(type_id)";
    头部导航();
}else if(类型.indexOf("APP(vod)")!=-1){
    var URL=首页地址+"/types";
    var 源码=getHttp(JSON.stringify({url:URL,redirect:false,head:{"User-Agent":UA}}));
    var 列表=e2Arr(源码.replace(/<.*?>/g,""),".json(data).json(list)");
    var 标题规则=".json(type_name)";
    var 地址规则=".json(type_id)";
    头部导航();
}else if(类型.indexOf("小主题")!=-1){
    var URL=首页地址+"config/get?p=android";
    var 源码=getHttp(JSON.stringify({url:URL,redirect:false,head:{"User-Agent":UA}}));
    var 列表=e2Arr(源码.replace(/<.*?>/g,""),".json(data).json(get_type)");
    var 标题规则=".json(type_name)";
    var 地址规则=".json(type_id)";
    头部导航();
}else if(类型.indexOf("iptv")!=-1){
    var URL=首页地址+"?ac=flitter";
    var 源码=getHttp(JSON.stringify({url:URL,redirect:false,head:{"User-Agent":UA}}));
    var 列表=e2Arr(源码.replace(/<.*?>/g,""),'.z(\".*?\\]\\}\\])');
    var 标题规则='.z2(\"\\(.*?\\)\")';
    var 地址规则='.z2(\"\\(.*?\\)\")';
    头部导航();
}else if(类型.indexOf("MX Pro")!=-1){
    var 源码=getHttp(首页地址);
    var 列表=e2Arr(源码,".get(div.nav a[href~=/vod/type/.+]).or().get(div.nav a[href~=/vodtype/.+]).or().get(div.nav a[href~=/type/.+]).or().get(div.nav a[href~=/list.+]).or().get(div.sidebar a[href~=/vod/type/.+]).or().get(div.sidebar a[href~=/vodtype/.+]).or().get(div.sidebar a[href~=/type/.+]).or().get(div.sidebar a[href~=/list.+]).or().get(div.mxprofoot a[href~=/vod/type/.+]).or().get(div.mxprofoot a[href~=/vodtype/.+]).or().get(div.mxprofoot a[href~=/type/.+]).or().get(div.mxprofoot a[href~=/list.+]).or().get(div.mxprofoot a[href~=.+?-.+]).or().get(div.sidebar a[href~=type.+]).or().get(div.mxprofoot a[href~=type.+]).or().get(div.mxprofoot a[href~=html.+]).or().get(ul.navbar-items li a[href~=html.+])");
    var 标题规则=".get(a).t()";
    var 地址规则='.get(a).a(href)';
    头部导航();
}else if(类型.indexOf("MXone")!=-1){
    var 源码=getHttp(首页地址);
    var 列表=e2Arr(源码,".get(.get(div.nav a[href~=/vod/type/.+]).or().get(div.nav a[href~=/vodtype/.+]).or().get(div.nav a[href~=/type/.+]).or().get(div.nav a[href~=/type.+]).or().get(a[href~=/vod/type/.+]).or().get(a[href~=/vodtype/.+]).or().get(a[href~=/type/.+]).or().get(a[href~=/type.+]).or().get(div.nav ul li)");
    var 标题规则=".get(a).t()";
    var 地址规则=".get(a).a(href)";
    头部导航();
}else if(类型.indexOf("首途-1")!=-1){
    var 源码=getHttp(首页地址);
    var 列表=e2Arr(源码,".get(ul.myui-header__menu li a[href~=/vodtype/.+]).or().get(div.myui-nav__tabbar a).or().get(div.row ul.dropdown a[href~=/vodtype/.+]).or().get(div.row a[href~=/vodtype/.+]).or().get(div.row a[href~=/vod/type/.+]).or().get(div.row a[href~=/type/.+])");
    var 标题规则=".get(a).t()";
    var 地址规则=".get(a).a(href)";
    头部导航();
}else if(类型.indexOf("新海螺")!=-1){
    var 源码=getHttp(首页地址);
    var 列表=e2Arr(源码,".get(ul.hl-menus.clearfix a[href~=/vod/type/.+]).or().get(ul.hl-menus.clearfix a[href~=/vodtype/.+]).or().get(ul.hl-menus.clearfix a[href~=/type/.+]).or().get(ul.hl-menus.clearfix a[href~=type/.+]).or().get(ul.hl-menus.clearfix a[href~=/type.+])");
    var 标题规则=".get(a).t()";
    var 地址规则=".get(a).a(href)";
    头部导航();
}else if(类型.indexOf("v10(影视站)")!=-1){
    var 源码=getHttp(首页地址);
    var 列表=e2Arr(源码,".get(ul[class~=type.+]).get(li a[href~=list.+]).or().get(ul.stui-header__menu a[href~=/vod/type/.+]).or().get(ul.stui-header__menu a[href~=/vodtype/.+]).or().get(ul.stui-header__menu a[href~=/type/.+]).or().get(ul.stui-header__menu li)");
    var 标题规则=".get(a).t()";
    var 地址规则=".get(a).a(href)";
    头部导航();
}else if(类型.indexOf("v10(采集站)")!=-1){
    var 源码=getHttp(首页地址);
    var 列表=e2Arr(源码,".get(ul.stui-header__menu a[href~=/vod/type/.+]).or().get(ul.stui-header__menu a[href~=/vodtype/.+]).or().get(ul.stui-header__menu a[href~=/type/.+]).or().get(ul.stui-header__menu li)");
    var 标题规则=".get(a).t()";
    var 地址规则=".get(a).a(href)";
    头部导航();
}else if(类型.indexOf("直播订阅")!=-1){
    var 源码=getHttp(JSON.stringify({url:首页地址,redirect:false,head:{"User-Agent":UA}}));
    var 列表=["全部"];
    var 标题规则=".t()";
    var 地址规则=".var(首页地址)";
    头部导航();
}else if(类型.indexOf("e4a")!=-1){
    var 源码=getHttp(JSON.stringify({url:首页地址,redirect:false,head:{"User-Agent":UA}}));
    var 列表=["全部"];
    var 标题规则=".t()";
    var 地址规则=".var(首页地址)";
    头部导航();
}
######筛选列表6
var 源码=getVar("源");
var 首页地址=getVar("首页地址");
var 类型=getVar("类型");
function 通用列表(){
    var res={};var items=[];var LIST=[];
    for(var j=0;j<列表.length;j++){
        if(类型.indexOf("iptv")!=-1){
            var 地址=e2Rex(列表[j],地址规则);
        }else if(类型.indexOf("e4a")!=-1){
            var 后=e2Rex(列表[j],地址规则);
            var 地址=e2Rex(首页地址,".t().tz2(/).ct(/)")+后;
        }else if(类型.indexOf("直播订阅")!=-1){
            var 地址=e2Rex(列表[j],地址规则);
        }else{
            if(类型.indexOf("网页")!=-1&&首页地址.indexOf(".php")!=-1){
                首页地址=e2Rex(首页地址,'.t().tz2(/)');
            }else{
                首页地址=首页地址;
            }
            var 地址=首页地址+e2Rex(列表[j],地址规则);
        }
        var 标题=e2Rex(列表[j],标题规则);
        var 预图片=e2Rex(列表[j],图片规则);
        if(预图片.indexOf("zbjk.qyrunda.com")!=-1){
            var 图片=预图片.replace('zbjk.qyrunda.com','api.zbjk.live');
        }else if(预图片.indexOf("php?url")!=-1){
            var 图片=预图片.split("url=")[1];
        }else if(预图片.indexOf("http").length>1){
            var 图片=预图片.match(/.*(http.*[a-zA-Z].*)/)[1];
        }else if(预图片.indexOf("/mac:")!=-1){
            var 图片="http:"+预图片.split("mac:")[1];
        }else if(预图片.indexOf("mac:")!=-1){
            var 图片="http:"+预图片.split("mac:")[1];
        }else if(预图片.indexOf(".test.com")!=-1||预图片.indexOf(".maccms.com")!=-1||预图片.indexOf(".maccms.pro")!=-1){
            var 图片=地址.match(/http?:\/\/.+?\//)[0]+预图片.match(/http?:\/\/.+?\//)[1];
        }else if(预图片==""){
            var 图片="http://www.llzy.xyz/load.gif";
        }else if(预图片.indexOf("http")!=-1){
            var 图片=预图片;
        }else if(预图片.indexOf("//")!=-1){
            var 图片="http:"+预图片;
        }else{
            var 图片=地址.match(/https?:\/\/.+?\//)[0]+预图片;
        }
        var 播放源=e2Rex(列表[j],播放源规则);
        var 状态=e2Rex(列表[j],状态规则);
        if(类型.indexOf("网页")!=-1){
            var mode="JSOUP";
        }else{
            var mode="OKHTTP";
        }
        LIST.push({title:标题,url:地址,img:图片,from:播放源,state:状态,mode:mode});
    }
    var play_={};
    play_.list=LIST;
    items.push(play_);
    res.data=items;
    return JSON.stringify(res);
}
if(类型.indexOf("CMS(xml)")!=-1){
    var 列表=e2Arr(源码,'.xml(list video)');
    var 标题规则='.xml(name).ty(CDATA[).tz2(]])';
    var 地址规则='.c(?ac=videolist&ids=).xml(id).z(\\d+)';
    if(首页地址.indexOf("mac")!=-1){
        var 图片规则='.xml(pic).t().z(\\S.*\\S).th( ##%20).ty(CDATA[).tz(])';
    }else{
        var 图片规则='.xml(pic).t().z(\\S.*\\S).th( ##%20)';
    }
    var 播放源规则='.c(<font color=\"#0997F7\"><b>).xml(dl).ty(flag=").tz(">).ct(</b></font><br>)';
    var 状态规则='.tx(<p style=\"background-color:#CC00FF\"><font color=\"#FFFFFF\">).xml(type).t().ct(</font></p>)';
    通用列表();
}else if(类型.indexOf("CMS(json)")!=-1){
    var 列表=e2Arr(源码.replace(/<.*?>/g,""),".json(list)");
    var 标题规则=".json(vod_name)";
    var 地址规则=".c(?ac=videolist&ids=).json(vod_id)";
    var 图片规则=".json(vod_pic)";
    var 播放源规则='.c(<font color=\"#0997F7\"><b>).json(vod_play_from).ct(</b></font><br>)';
    var 状态规则='.tx(<p style=\"background-color:#CC00FF\"><font color=\"#FFFFFF\">).json(vod_remarks).ct(</font></p>)';
    通用列表();
}else if(类型.indexOf("APP(小龟)")!=-1){
    var 列表=e2Arr(源码.replace(/<.*?>/g,""),".json(list).or().json(data)");
    var 标题规则=".json(vod_name)";
    var 地址规则=".c(video_detail?id=).json(vod_id)";
    var 图片规则=".json(vod_pic)";
    var 播放源规则='.c(<font color=\"#0997F7\"><b>).json(vod_score).ct(</b></font><br>)';
    var 状态规则='.tx(<p style=\"background-color:#CC00FF\"><font color=\"#FFFFFF\">).json(vod_remarks).ct(</font></p>)';
    通用列表();
}else if(类型.indexOf("APP(vod)")!=-1){
    var 列表=e2Arr(源码.replace(/<.*?>/g,""),".json(data).json(list)");
    var 标题规则=".json(vod_name)";
    var 地址规则=".c(/detail?&vod_id=).json(vod_id)";
    var 图片规则=".json(vod_pic)";
    var 播放源规则='.c(<font color=\"#0997F7\"><b>).json(vod_score).ct(</b></font><br>)';
    var 状态规则='.tx(<p style=\"background-color:#CC00FF\"><font color=\"#FFFFFF\">).json(vod_remarks).ct(</font></p>)';
    通用列表();
}else if(类型.indexOf("小主题")!=-1){
    var 列表=e2Arr(源码.replace(/<.*?>/g,""),".json(data).json(data)");
    var 标题规则=".json(vod_name)";
    var 地址规则=".c(vod/getVod?id=).json(vod_id)";
    var 图片规则=".json(vod_pic)";
    var 播放源规则='.c(<font color=\"#0997F7\"><b>).json(vod_score).ct(</b></font><br>)';
    var 状态规则='.tx(<p style=\"background-color:#CC00FF\"><font color=\"#FFFFFF\">).json(vod_remarks).ct(</font></p>)';
    通用列表();
}else if(类型.indexOf("iptv")!=-1){
    var 列表=e2Arr(源码.replace(/<.*?>/g,""),".json(data)");
    var 标题规则=".json(title)";
    var 地址规则=".json(nextlink)";
    var 图片规则=".json(pic)";
    var 播放源规则='.c(<font color=\"#0997F7\"><b>).json(type).ct(</b></font><br>)';
    var 状态规则='.tx(<p style=\"background-color:#CC00FF\"><font color=\"#FFFFFF\">).json(state).ct(</font></p>)';
    通用列表();
}else if(类型.indexOf("MX Pro")!=-1){
    var 列表=e2Arr(源码,".get(a[href~=/Moviedetail/.+]).or().get(a[href~=/detail/.+]).or().get(a[href~=/voddetail/.+]).or().get(a[href~=/play/.+]).or().get(a[href~=/vod/.+]).or().get(a[href~=detail.+]).or().get(a[href~=/v/.+]).or().get(div.main div.content div.module > a)");
    var 标题规则=".get(.module-poster-item-title).t().or().get(a).a(title)";
    var 地址规则=".get(a).a(href)";
    var 图片规则=".get(img).a(data-original).or().get(img).a(data-src).or().get(img).a(src).or().get(a).a(data-original).or().get(a).a(data-src).or().get(a).a(src)";
    var 播放源规则='.c(<font color=\"#0997F7\"><b>).get(div.module-item-douban).t().ct(</b></font><br>)';
    var 状态规则='.tx(<p style=\"background-color:#CC00FF\"><font color=\"#FFFFFF\">).get(div.module-item-note).t().ct(</font></p>)';
    通用列表();
}else if(类型.indexOf("MXone")!=-1){
    var 列表=e2Arr(源码,".get(div.module-items div.module-item)");
    var 标题规则=".get(div.module-item-style.video-name a).t().or().get(a).a(title)";
    var 地址规则=".get(div.module-item-style.video-name a).a(href).or().get(a).a(href)";
    var 图片规则=".get(img).a(data-original).or().get(img).a(data-src).or().get(img).a(src).or().get(a).a(data-original).or().get(a).a(data-src).or().get(a).a(src)";
    var 播放源规则='.c(<font color=\"#0997F7\"><b>).get(span.video-class).t().ct(</b></font><br>)';
    var 状态规则='.tx(<p style=\"background-color:#CC00FF\"><font color=\"#FFFFFF\">).get(div.module-item-text).t().ct(</font></p>)';
    通用列表();
}else if(类型.indexOf("首途-1")!=-1){
    var 列表=e2Arr(源码,".get(ul.stui-vodlist.clearfix li).or().get(ul.myui-vodlist.clearfix li)");
    var 标题规则=".get(a).a(title).or().get(a).t()";
    var 地址规则=".get(a).a(href)";
    var 图片规则=".get(img).a(data-original).or().get(img).a(data-src).or().get(img).a(src).or().get(a).a(data-original).or().get(a).a(data-src).or().get(a).a(src)";
    var 播放源规则='.c(<font color=\"#0997F7\"><b>).get(span.play.hidden-xs).t().ct(</b></font><br>)';
    var 状态规则='.tx(<p style=\"background-color:#CC00FF\"><font color=\"#FFFFFF\">).get(span.pic-text.text-right).t().ct(</font></p>)';
    通用列表();
}else if(类型.indexOf("新海螺")!=-1){
    var 列表=e2Arr(源码,".get(div.row div.hl-list-wrap ul).i(0).get(li)");
    var 标题规则=".get(a).a(title).or().get(a).t()";
    var 地址规则=".get(a).a(href)";
    var 图片规则=".get(img).a(data-original).or().get(img).a(data-src).or().get(img).a(src).or().get(a).a(data-original).or().get(a).a(data-src).or().get(a).a(src)";
    var 播放源规则='.c(<font color=\"#0997F7\"><b>).get(div.hl-pic-tag).t().ct(</b></font><br>)';
    var 状态规则='.tx(<p style=\"background-color:#CC00FF\"><font color=\"#FFFFFF\">).get(div.hl-pic-text).t().ct(</font></p>)';
    通用列表();
}else if(类型.indexOf("v10(影视站)")!=-1){
    var 列表=e2Arr(源码,".get(ul.stui-vodlist.clearfix li)");
    var 标题规则=".get(h4 a).a(title)";
    var 地址规则=".get(h4 a).a(href)";
    var 图片规则=".get(img).a(data-original).or().get(img).a(data-src).or().get(img).a(src).or().get(a).a(data-original).or().get(a).a(data-src).or().get(a).a(src)";
    var 播放源规则='.c(<font color=\"#0997F7\"><b>).get(span.pic-tag.pic-tag-top).t().ct(</b></font><br>)';
    var 状态规则='.tx(<p style=\"background-color:#CC00FF\"><font color=\"#FFFFFF\">).get(span.pic-text.text-right).t().ct(</font></p>)';
    通用列表();
}else if(类型.indexOf("v10(采集站)")!=-1){
    var 列表=e2Arr(源码,".get(ul.stui-vodlist.clearfix li).i(1,-1)");
    var 标题规则=".get(h3 a).a(title)";
    var 地址规则=".get(h3 a).a(href)";
    var 图片规则=".ij(http://www.llzy.xyz/load.gif).i(1,-1)";
    var 播放源规则='.c(<font color=\"#0997F7\"><b>).get(span.time).t().ct(</b></font><br>)';
    var 状态规则='.tx(<p style=\"background-color:#CC00FF\"><font color=\"#FFFFFF\">).get(em).t().ct(</font></p>)';
    通用列表();
}else if(类型.indexOf("直播订阅")!=-1){
    var 列表=e2Arr(源码,".z(.+?,.+)");
    var 标题规则=".tz(,)";
    var 地址规则=".ty(,)";
    var 图片规则=".ij(http://www.llzy.xyz/load.gif).i(1,-1)";
    var 播放源规则='.ij().i(1,-1)';
    var 状态规则='.ij().i(1,-1)';
    通用列表();
}else if(类型.indexOf("e4a")!=-1){
    var 列表=e2Arr(源码,".json(pingtai)");
    var 标题规则=".json(title)";
    var 地址规则=".json(address)";
    var 图片规则=".json(xinimg)";
    var 播放源规则='.ij().i(1,-1)';
    var 状态规则='.tx(<p style=\"background-color:#CC00FF\"><font color=\"#FFFFFF\">).json(Number).ct(</font></p>)';
    通用列表();
}
######推荐列表7
var 首页地址=getVar("首页地址");
var 类型=getVar("类型");
var UA=getVar("UA");
function 通用列表(){
    var res={};var items=[];var LIST=[];
    for(var j=0;j<分类.length;j++){
        if(类型.indexOf("接口")!=-1||(类型.indexOf("网页")!=-1&&分类[j].indexOf("/topic")==-1)&&(类型.indexOf("网页")!=-1&&分类[j].indexOf("label/hot")==-1)&&(类型.indexOf("网页")!=-1&&分类[j].indexOf("/arttype")==-1)&&(类型.indexOf("网页")!=-1&&分类[j].indexOf("week")==-1)&&(类型.indexOf("网页")!=-1&&分类[j].indexOf("专题")==-1)&&(类型.indexOf("网页")!=-1&&分类[j].indexOf("资讯")==-1)){
            var 分类标题=e2Rex(分类[j],分类标题规则);
            var 列表=e2Arr(分类[j],列表规则);
            var LIST=[];
            for(var i=0;i<列表.length;i++){
                if(类型.indexOf("iptv")!=-1){
                    var 地址=e2Rex(列表[i],地址规则);
                }else if(类型.indexOf("e4a")!=-1){
                    var 后=e2Rex(列表[i],地址规则);
                    var 地址=e2Rex(首页地址,".t().tz2(/).ct(/)")+后;
                }else if(类型.indexOf("直播订阅")!=-1){
                    var 地址=e2Rex(列表[i],地址规则);
                }else{
                    if(类型.indexOf("网页")!=-1&&首页地址.indexOf(".php")!=-1){
                        首页地址=e2Rex(首页地址,'.t().tz2(/)');
                    }else{
                        首页地址=首页地址;
                    }
                    var 地址=首页地址+e2Rex(列表[i],地址规则);
                }
                var 标题=e2Rex(列表[i],标题规则);
                var 预图片=e2Rex(列表[i],图片规则);
                if(预图片.indexOf("zbjk.qyrunda.com")!=-1){
                    var 图片=预图片.replace('zbjk.qyrunda.com','api.zbjk.live');
                }else if(预图片.indexOf("php?url")!=-1){
                    var 图片=预图片.split("url=")[1];
                }else if(预图片.indexOf("http").length>1){
                    var 图片=预图片.match(/.*(http.*[a-zA-Z].*)/)[1];
                }else if(预图片.indexOf("/mac:")!=-1){
                    var 图片="http:"+预图片.split("mac:")[1];
                }else if(预图片.indexOf("mac:")!=-1){
                    var 图片="http:"+预图片.split("mac:")[1];
                }else if(预图片.indexOf(".test.com")!=-1||预图片.indexOf(".maccms.com")!=-1||预图片.indexOf(".maccms.pro")!=-1){
                    var 图片=地址.match(/http?:\/\/.+?\//)[0]+预图片.match(/http?:\/\/.+?\//)[1];
                    //var 图片=图片.match(/.*(http.*)/)[1];
                }else if(预图片==""){
                    var 图片="http://www.llzy.xyz/load.gif";
                }else if(预图片.indexOf("http")!=-1){
                    var 图片=预图片;
                }else if(预图片.indexOf("//")!=-1){
                    var 图片="http:"+预图片;
                }else{
                    var 图片=地址.match(/https?:\/\/.+?\//)[0]+预图片;
                }
                var 播放源=e2Rex(列表[i],播放源规则);
                var 状态=e2Rex(列表[i],状态规则);
                if(类型.indexOf("网页")!=-1){
                    var mode="JSOUP";
                }else{
                    var mode="OKHTTP";
                }
                LIST.push({title:标题,url:地址,img:图片,from:播放源,state:状态,mode:mode});
            }
            var play_={};
            play_.list=LIST;
            play_.title=分类标题;
            items.push(play_);
        }
    }
    res.data=items;
    return JSON.stringify(res);
}
if(类型.indexOf("CMS(xml)")!=-1){
    var URL=首页地址+"?ac=videolist&pg=";
    var 源码=getHttp(JSON.stringify({url:URL,redirect:false,head:{"User-Agent":UA}}));;
    var 分类=e2Arr(源码,".c()");
    var 分类标题规则=".ij(最新).i(1,-1)";
    var 列表规则='.xml(list video)';
    var 标题规则='.xml(name).ty(CDATA[).tz2(]])';
    var 地址规则='.c(?ac=videolist&ids=).xml(id).z(\\d+)';
    if(首页地址.indexOf("mac")!=-1){
        var 图片规则='.xml(pic).t().z(\\S.*\\S).th( ##%20).ty(CDATA[).tz(])';
    }else{
        var 图片规则='.xml(pic).t().z(\\S.*\\S).th( ##%20)';
    }
    var 播放源规则='.c(<font color=\"#0997F7\"><b>).xml(dl).ty(flag=").tz(">).ct(</b></font><br>)';
    var 状态规则='.tx(<p style=\"background-color:#CC00FF\"><font color=\"#FFFFFF\">).xml(type).t().ct(</font></p>)';
    通用列表();
}else if(类型.indexOf("CMS(json)")!=-1||类型.indexOf("CMS(mc10)")!=-1){
    var URL=首页地址+"?ac=videolist&pg=";
    var 源码=getHttp(JSON.stringify({url:URL,redirect:false,head:{"User-Agent":UA}}));
    var 分类=e2Arr(源码.replace(/<.*?>/g,""),".c()");
    var 分类标题规则=".ij(最新).i(1,-1)";
    var 列表规则=".json(list)";
    var 标题规则=".json(vod_name)";
    var 地址规则=".c(?ac=videolist&ids=).json(vod_id)";
    var 图片规则=".json(vod_pic)";
    var 播放源规则='.c(<font color=\"#0997F7\"><b>).json(vod_play_from).ct(</b></font><br>)';
    var 状态规则='.tx(<p style=\"background-color:#CC00FF\"><font color=\"#FFFFFF\">).json(vod_remarks).ct(</font></p>)';
    通用列表();
}else if(类型.indexOf("APP(小龟)")!=-1){
    var URL=首页地址+"index_video";
    var 源码=getHttp(JSON.stringify({url:URL,redirect:false,head:{"User-Agent":UA}}));
    var 分类=e2Arr(源码.replace(/<.*?>/g,""),".json(list).or().json(data)");
    var 分类标题规则=".json(type_name).or().json(name)";
    var 列表规则=".json(vlist)";
    var 标题规则=".json(vod_name)";
    var 地址规则=".c(video_detail?id=).json(vod_id)";
    var 图片规则=".json(vod_pic)";
    var 播放源规则='.c(<font color=\"#0997F7\"><b>).json(vod_score).ct(</b></font><br>)';
    var 状态规则='.tx(<p style=\"background-color:#CC00FF\"><font color=\"#FFFFFF\">).json(vod_remarks).ct(</font></p>)';
    通用列表();
}else if(类型.indexOf("APP(vod)")!=-1){
    var URL=首页地址+"/vodPhbAll";
    var 源码=getHttp(JSON.stringify({url:URL,redirect:false,head:{"User-Agent":UA}}));
    var 分类=e2Arr(源码.replace(/<.*?>/g,""),".json(data).json(list)");
    var 分类标题规则=".json(vod_type_name)";
    var 列表规则=".json(vod_list)";
    var 标题规则=".json(vod_name)";
    var 地址规则=".c(/detail?&vod_id=).json(vod_id)";
    var 图片规则=".json(vod_pic)";
    var 播放源规则='.c(<font color=\"#0997F7\"><b>).json(vod_score).ct(</b></font><br>)';
    var 状态规则='.tx(<p style=\"background-color:#CC00FF\"><font color=\"#FFFFFF\">).json(vod_remarks).ct(</font></p>)';
    通用列表();
}else if(类型.indexOf("小主题")!=-1){
    if(首页地址.indexOf("154.23.181.234")!=-1||首页地址.indexOf("zhuiju.co")!=-1){
        var URL=首页地址+"home/cateData?id=7";
    }else if(首页地址.indexOf("xg.zxzx.fun")!=-1){
        var URL=首页地址+"home/cateData?id=5";
    }else{
        var URL=首页地址+"home/cateData?id=1";
    }
    var 源码=getHttp(JSON.stringify({url:URL,redirect:false,head:{"User-Agent":UA}}));
    var 分类=e2Arr(源码.replace(/<.*?>/g,""),".json(data).json(sections)");
    var 分类标题规则=".json(title)";
    var 列表规则=".json(items)";
    var 标题规则=".json(vod_name)";
    var 地址规则=".c(vod/getVod?id=).json(vod_id)";
    var 图片规则=".json(vod_pic)";
    var 播放源规则='.c(<font color=\"#0997F7\"><b>).json(vod_score).ct(</b></font><br>)';
    var 状态规则='.tx(<p style=\"background-color:#CC00FF\"><font color=\"#FFFFFF\">).json(vod_remarks).ct(</font></p>)';
    通用列表();
}else if(类型.indexOf("iptv")!=-1){
    var URL=首页地址+"?ac=list";
    var 源码=getHttp(JSON.stringify({url:URL,redirect:false,head:{"User-Agent":UA}}));
    var 分类=e2Arr(源码.replace(/<.*?>/g,""),".c()");
    var 分类标题规则="最新";
    var 列表规则=".json(data)";
    var 标题规则=".json(title)";
    var 地址规则=".json(nextlink)";
    var 图片规则=".json(pic)";
    var 播放源规则='.c(<font color=\"#0997F7\"><b>).json(type).ct(</b></font><br>)';
    var 状态规则='.tx(<p style=\"background-color:#CC00FF\"><font color=\"#FFFFFF\">).json(state).ct(</font></p>)';
    通用列表();
}else if(类型.indexOf("MX Pro")!=-1){
    var 源码=getHttp(首页地址);
    var 分类=e2Arr(源码,".get(div.content div.module)");
    var 分类标题规则=".get(h2).t()";
    var 列表规则=".get(div.module-main).i(0).get(a[href~=/detail/.+]).or().get(div.module-main).i(0).get(a[href~=/voddetail/.+]).or().get(div.module-main).i(0).get(a[href~=/play/.+]).or().get(div.module-main).i(0).get(a[href~=/vod/.+]).or().get(div.module-main).i(0).get(a[href~=/video/.+]).or().get(div.module-main).i(0).get(a[href~=detail.+]).or().get(div.module-main).i(0).get(a[href~=/v/.+]).or().get(div.module-main).i(0).get(a)";
    var 标题规则=".get(.module-poster-item-title).t().or().get(a).a(title)";
    var 地址规则=".get(a).a(href)";
    var 图片规则=".get(img).a(data-original).or().get(img).a(data-src).or().get(img).a(src).or().get(a).a(data-original).or().get(a).a(data-src).or().get(a).a(src)";
    var 播放源规则='.c(<font color=\"#0997F7\"><b>).get(div.module-item-douban).t().ct(</b></font><br>)';
    var 状态规则='.tx(<p style=\"background-color:#CC00FF\"><font color=\"#FFFFFF\">).get(div.module-item-note).t().ct(</font></p>)';
    通用列表();
}else if(类型.indexOf("MXone")!=-1){
    var 源码=getHttp(首页地址);
    var 分类=e2Arr(源码,".get(div.content div.module.module-wrapper).or().get(div.content div.module)");
    var 分类标题规则=".get(h2).t()";
    var 列表规则=".get(div.module-item)";
    var 标题规则=".get(a).a(title).or().get(a).t()";
    var 地址规则=".get(a).a(href)";
    var 图片规则=".get(img).a(data-original).or().get(img).a(data-src).or().get(img).a(src).or().get(a).a(data-original).or().get(a).a(data-src).or().get(a).a(src)";
    var 播放源规则='.c(<font color=\"#0997F7\"><b>).get(span.video-class).t().ct(</b></font><br>)';
    var 状态规则='.tx(<p style=\"background-color:#CC00FF\"><font color=\"#FFFFFF\">).get(div.module-item-text).t().ct(</font></p>)';
    通用列表();
}else if(类型.indexOf("首途-1")!=-1){
    var 源码=getHttp(首页地址);
    var 分类=e2Arr(源码,".get(div.stui-pannel.stui-pannel-bg.clearfix div.stui-pannel-box).or().get(div.myui-panel.myui-panel-bg.clearfix div.myui-panel-box.clearfix div.myui-panel_bd.clearfix)");
    var 分类标题规则=".get(h3).t()";
    var 列表规则=".get(ul.stui-vodlist.clearfix li).or().get(ul.myui-vodlist.clearfix li)";
    var 标题规则=".get(a).a(title).or().get(a).t()";
    var 地址规则=".get(a).a(href)";
    var 图片规则=".get(img).a(data-original).or().get(img).a(data-src).or().get(img).a(src).or().get(a).a(data-original).or().get(a).a(data-src).or().get(a).a(src)";
    var 播放源规则='.c(<font color=\"#0997F7\"><b>).get(span.play.hidden-xs).t().ct(</b></font><br>)';
    var 状态规则='.tx(<p style=\"background-color:#CC00FF\"><font color=\"#FFFFFF\">).get(span.pic-text.text-right).t().ct(</font></p>)';
    通用列表();
}else if(类型.indexOf("新海螺")!=-1){
    var 源码=getHttp(首页地址);
    var 分类=e2Arr(源码,".get(div.container div.hl-row-box div.hl-rb-vod.clearfix)");
    var 分类标题规则=".get(h2).t()";
    var 列表规则=".get(div.row div ul).i(0).get(li)";
    var 标题规则=".get(a).a(title).or().get(a).t()";
    var 地址规则=".get(a).a(href)";
    var 图片规则=".get(img).a(data-original).or().get(img).a(data-src).or().get(img).a(src).or().get(a).a(data-original).or().get(a).a(data-src).or().get(a).a(src)";
    var 播放源规则='.c(<font color=\"#0997F7\"><b>).get(div.hl-pic-tag).t().ct(</b></font><br>)';
    var 状态规则='.tx(<p style=\"background-color:#CC00FF\"><font color=\"#FFFFFF\">).get(div.hl-pic-text).t().ct(</font></p>)';
    通用列表();
}else if(类型.indexOf("v10(影视站)")!=-1){
    var 源码=getHttp(首页地址);
    var 分类=e2Arr(源码,".get(ul.stui-vodlist.clearfix)");
    var 分类标题规则=".get(h3).t()";
    var 列表规则=".get(li)";
    var 标题规则=".get(h4 a).t()";
    var 地址规则=".get(h4 a).a(href)";
    var 图片规则=".get(img).a(data-original).or().get(img).a(data-src).or().get(img).a(src).or().get(a).a(data-original).or().get(a).a(data-src).or().get(a).a(src)";
    var 播放源规则='.c(<font color=\"#0997F7\"><b>).get(span.pic-tag.pic-tag-top).t().ct(</b></font><br>)';
    var 状态规则='.tx(<p style=\"background-color:#CC00FF\"><font color=\"#FFFFFF\">).get(span.pic-text.text-right).t().ct(</font></p>)';
    通用列表();
}else if(类型.indexOf("v10(采集站)")!=-1){
    var 源码=getHttp(首页地址);
    var 分类=e2Arr(源码,".get(ul.stui-vodlist.clearfix)");
    var 分类标题规则="最新";
    var 列表规则=".get(li).i(1,-1)";
    var 标题规则=".get(h3 a).a(title)";
    var 地址规则=".get(h3 a).a(href)";
    var 图片规则=".ij(http://www.llzy.xyz/load.gif).i(1,-1)";
    var 播放源规则='.c(<font color=\"#0997F7\"><b>).get(span.time).t().ct(</b></font><br>)';
    var 状态规则='.tx(<p style=\"background-color:#CC00FF\"><font color=\"#FFFFFF\">).get(em).t().ct(</font></p>)';
    通用列表();
}else if(类型.indexOf("直播订阅")!=-1){
    var 源码=getHttp(JSON.stringify({url:首页地址,redirect:false,head:{"User-Agent":UA}}));
    var 分类=e2Arr(源码,".c()");
    var 分类标题规则=".ij(全部).i(1,-1)";
    var 列表规则=".z(.+?,.+)";
    var 标题规则=".tz(,)";
    var 地址规则=".ty(,)";
    var 图片规则=".ij(http://www.llzy.xyz/load.gif).i(1,-1)";
    var 播放源规则='.ij().i(1,-1)';
    var 状态规则='.ij().i(1,-1)';
    通用列表();
}else if(类型.indexOf("e4a")!=-1){
    var 源码=getHttp(JSON.stringify({url:首页地址,redirect:false,head:{"User-Agent":UA}}));
    var 分类=e2Arr(源码,".c()");
    var 分类标题规则=".ij(全部).i(1,-1)";
    var 列表规则=".json(pingtai)";
    var 标题规则=".json(title)";
    var 地址规则=".json(address)";
    var 图片规则=".json(xinimg)";
    var 播放源规则='.ij().i(1,-1)';
    var 状态规则='.tx(<p style=\"background-color:#CC00FF\"><font color=\"#FFFFFF\">).json(Number).ct(</font></p>)';
    通用列表();
}
######搜索列表8
var KEY=getVar("KEY");
var PN=getVar("PN");
var NEXTPAGE=Number(getVar("PN"))+1;
var LASTPAGE=Number(getVar("PN"))-1;
var UA=getVar("UA");
var 类型=getVar("类型");
var 首页地址=getVar("首页地址");
var 搜索地址=getVar("搜索地址").replace("#KEY#",KEY).replace("#PN#",PN);
var 源码=getVar("源");
function 搜索列表(){
    var res={};var items=[];var LIST=[];
    for(var j=0;j<列表.length;j++){
        if(类型.indexOf("网页")!=-1&&首页地址.indexOf(".php")!=-1){
            首页地址=e2Rex(首页地址,'.t().tz2(/)');
        }else{
            首页地址=首页地址;
        }
        var 地址=首页地址+e2Rex(列表[j],地址规则);
        var 标题=e2Rex(列表[j],标题规则);
        var 预图片=e2Rex(列表[j],图片规则);
        if(预图片.indexOf("php?url")!=-1){
          var 图片=预图片.split("url=")[1];
        }else if(预图片.indexOf("http").length>1){
          var 图片=预图片.match(/.*(http.*[a-zA-Z].*)/)[1];
        }else if(预图片.indexOf("/mac:")!=-1){
            var 图片="http:"+预图片.split("mac:")[1];
        }else if(预图片.indexOf("mac:")!=-1){
            var 图片="http:"+预图片.split("mac:")[1];
        }else if(预图片.indexOf(".test.com")!=-1||预图片.indexOf(".maccms.com")!=-1||预图片.indexOf(".maccms.pro")!=-1){
            var 图片=地址.match(/http?:\/\/.+?\//)[0]+预图片.match(/http?:\/\/.+?\//)[1];
            //var 图片=图片.match(/.*(http.*)/)[1];
        }else if(预图片==""){
            var 图片="http://www.llzy.xyz/load.gif";
        }else if(预图片.indexOf("http")!=-1){
            var 图片=预图片;
        }else if(预图片.indexOf("//")!=-1){
            var 图片="http:"+预图片;
        }else{
            var 图片=地址.match(/https?:\/\/.+?\//)[0]+预图片;
        }
        var 简介=e2Rex(列表[j],简介规则);
        var 作者=e2Rex(列表[j],作者规则);
        if(类型.indexOf("网页")!=-1){
            var mode="JSOUP";
        }else{
            var mode="OKHTTP";
        }
        LIST.push({title:标题,url:地址,img:图片,content:简介,actor:作者,mode:mode});
    }
    var play_={};
    play_.list=LIST;
    items.push(play_);
    res.data=items;
    res.nextpage=首页地址+搜索地址.replace(getVar("PN"),NEXTPAGE);
    res.lastpage=首页地址+搜索地址.replace(getVar("PN"),LASTPAGE);
    return JSON.stringify(res);
}
if(类型.indexOf("CMS(xml)")!=-1){
    var 列表=e2Arr(源码,".xml(video)");
    var 标题规则=".xml(name).ty(CDATA).tz2(])";
    var 地址规则=".c(?ac=videolist&ids=).xml(id).z(\\d+)";
    var 图片规则=".xml(pic).t().z(http.*\\S).th( ##%20)";
    var 简介规则=".xml(last).t()";
    var 作者规则='.xml(dl).ty(flag=").tz(">).tx(·).xml(type).t()';
    搜索列表();
}else if(类型.indexOf("CMS(json)")!=-1){
    var 列表=e2Arr(源码.replace(/<.*?>/g,""),".json(list)");
    var 标题规则=".json(vod_name)";
    var 地址规则=".c(?ac=videolist&ids=).json(vod_id)";
    var 图片规则=".json(vod_pic)";
    var 简介规则=".json(vod_actor)";
    var 作者规则=".json(vod_remarks).tx(·).json(vod_play_from).tx(·).json(vod_class)";
    搜索列表();
}else if(类型.indexOf("APP(小龟)")!=-1){
    var 列表=e2Arr(源码,".json(list).or().json(data)");
    var 标题规则=".json(vod_name)";
    var 地址规则=".c(video_detail?id=).json(vod_id)";
    var 图片规则=".json(vod_pic)";
    var 简介规则=".json(vod_acctor).tx(\n).json(vod_score)";
    var 作者规则=".json(vod_remarks)";
    搜索列表();
}else if(类型.indexOf("APP(vod)")!=-1){
    var 列表=e2Arr(源码,".json(data).json(list)");
    var 标题规则=".json(vod_name)";
    var 地址规则=".c(/detail?vod_id=).json(vod_id)";
    var 图片规则=".json(vod_pic)";
    var 简介规则=".json(vod_actor).tx(\n).json(vod_score)";
    var 作者规则=".json(vod_remarks).tx(·).json(vod_play_from)";
    搜索列表();
}else if(类型.indexOf("小主题")!=-1){
    var 列表=e2Arr(源码.replace(/<.*?>/g,""),".json(data).json(data)");
    var 标题规则=".json(vod_name)";
    var 地址规则=".c(vod/getVod?id=).json(vod_id)";
    var 图片规则=".json(vod_pic)";
    var 简介规则=".json(vod_score)";
    var 作者规则=".json(vod_remarks).or().json(vod_blurb)";
    搜索列表();
}else if(类型.indexOf("iptv")!=-1){
    var 列表=e2Arr(源码,".json(data)");
    var 标题规则=".json(title)";
    var 地址规则=".json(nextlink)";
    var 图片规则=".json(pic)";
    var 简介规则=".json(tjendtime)";
    var 作者规则=".json(state).tx(·).json(type)";
    搜索列表();
}else if(类型.indexOf("MX Pro")!=-1){
    var 列表=e2Arr(源码,".get(div.module-card-item.module-item)");
    var 标题规则=".get(div.module-card-item-title).t()";
    var 地址规则=".get(a).a(href)";
    var 图片规则=".get(img).a(data-original).or().get(img).a(data-src).or().get(img).a(src).or().get(a).a(data-original).or().get(a).a(data-src).or().get(a).a(src)";
    var 简介规则=".get(div.module-info-item-content).t()";
    var 作者规则=".get(div.module-item-note).t()";
    搜索列表();
}else if(类型.indexOf("MXone")!=-1){
    var 列表=e2Arr(源码,".get(div.module-search-item)");
    var 标题规则=".get(h3).t()";
    var 地址规则=".get(a).a(href)";
    var 图片规则=".get(img).a(data-original).or().get(img).a(data-src).or().get(img).a(src).or().get(a).a(data-original).or().get(a).a(data-src).or().get(a).a(src)";
    var 简介规则=".get(div.video-info-main).t()";
    var 作者规则=".get(div.video-info-aux).t()";
    搜索列表();
}else if(类型.indexOf("首途-1")!=-1){
    var 列表=e2Arr(源码,".get(ul[id~=searchList.*] li).or().get(ul.myui-vodlist.clearfix li)");
    var 标题规则=".get(a).a(title).or().get(a).t()";
    var 地址规则=".get(a).a(href)";
    var 图片规则=".get(img).a(data-original).or().get(img).a(data-src).or().get(img).a(src).or().get(a).a(data-original).or().get(a).a(data-src).or().get(a).a(src)";
    var 简介规则=".get(span.pic-text.text-right).t()";
    var 作者规则=".get(span.play.hidden-xs).t()";
    搜索列表();
}else if(类型.indexOf("新海螺")!=-1){
    var 列表=e2Arr(源码,".get(div.hl-list-wrap ul.hl-one-list li)");
    var 标题规则=".get(a).a(title).or().get(a).t()";
    var 地址规则=".get(a).a(href)";
    var 图片规则=".get(img).a(data-original).or().get(img).a(data-src).or().get(img).a(src).or().get(a).a(data-original).or().get(a).a(data-src).or().get(a).a(src)";
    var 简介规则=".get(p.hl-item-sub.hl-text-muted.hl-lc-2).t()";
    var 作者规则=".get(span.hl-lc-1.remarks).t()";
    搜索列表();
}else if(类型.indexOf("v10(影视站)")!=-1){
    var 列表=e2Arr(源码,".get(ul.stui-vodlist.clearfix li)");
    var 标题规则=".get(h4 a).a(title)";
    var 地址规则=".get(h4 a).a(href)";
    var 图片规则=".get(img).a(data-original).or().get(img).a(data-src).or().get(img).a(src).or().get(a).a(data-original).or().get(a).a(data-src).or().get(a).a(src)";
    var 简介规则=".get(span.pic-tag.pic-tag-top).t()";
    var 作者规则=".get(span.pic-text.text-right).t()";
    搜索列表();
}else if(类型.indexOf("v10(采集站)")!=-1){
    var 列表=e2Arr(源码,".get(ul.stui-vodlist.clearfix li)");
    var 标题规则=".get(h3 a).a(title)";
    var 地址规则=".get(h3 a).a(href)";
    var 图片规则=".ij(http://www.llzy.xyz/load.gif).i(1,-1)";
    var 简介规则=".get(span.time).t()";
    var 作者规则=".get(em).t()";
    搜索列表();
}
######选集列表9
var 类型=getVar("类型");
var 首页地址=getVar("首页地址");
var URL=getVar("地址");
function 选集列表(){
    var res={};var items=[];var detail=[];
    for(var i=0;i<分类.length;i++){
        var 分类CODE=分类[i];
        var 列表=e2Arr(分类CODE,列表规则);
        if(线路){
            var 标题=e2Rex(线路[i],标题规则);
        }else{
            var 标题=e2Rex(分类CODE,标题规则);
        }
        if(类型.indexOf("APP(vod)")!=-1||类型.indexOf("小主题")!=-1){
            var PARSE=e2Rex(分类CODE,".json(player_info).json(parse)").split(",");
            var PARSE2=e2Rex(分类CODE,".json(player_info).json(parse2)").split(",");
            var 总接口=PARSE2.concat(PARSE).filter(item => item.search(/\/.+\?.+=/)!=-1);
            var 过滤规则=[
                /jx\.+huimaojia\.+com\/player/,/py\.+789pan\.+cn\/player\/tm\.php\?url=/,/ztys\.+waruanzy\.+com\/player\/\?url=/,/yingshi\.+waruanzy\.+com\/789pan\/\?url=/,/vip\.+parwix\.+com:4433\/player\/\?url=/,/api\.+cxitco\.+cn/,/\/vip\.+renrenmi.cc/,/yanbing\.+parwix\.+com:4433\/player/,/json\.+cantin\.+cc\/apijson\.php/,/ffdm\.+miaoletv\.+com\/\?url=/,/vip\.+sylwl\.+cn\/api\/\?key=/,/jx\.+dikotv\.+com\/\?url=/,/zly\.+xjqxz\.+top\/player\/\?url=/,/5znn\.+xyz\/m3u8\.+php/,/uid=1735&my=/,/api\.+xkvideo\.+design\/m3u8\.+php\?url=/,/play\.+szbodankyy\.+com\/xxoocnmb/,/vip\.+fj6080\.+xyz\/player\/\?url=/,/a\.+dxzj88\.+com\/jiexi/,/host\.+q-q\.+wang\/api/,/qpsvipr\.+naifeimi\.+com/,/mogai_api\.+php/,/lvdou_api\.+php/,/nfuxs\.+com/,/vip123kan\.+vip/,/zjmiao\.+com/,/nfuxs\.+club/,/cygc\.+xyz/,/vip6488502121\.+bibilili\.+vip/,/lg\.+umkan/,/yuml\.+vip/,/newjiexi\.+gotka\.+top/,/5555\/\?vid/,/保佑/
            ];
            var 可用接口=总接口.filter(function (text) {return !过滤规则.some(function (regex) {return regex.test(text);});});
            if(JSON.stringify(可用接口).indexOf("=")!=-1){
                if(可用接口[0].indexOf("http")!=-1){
                    var 接口=可用接口[0].match(/.*(url|v|vid|php\?id)=/)[0].replace("..",".").replace("vip.aotian.love","vip.gaotian.love");
                }else if(可用接口[0].indexOf("//")!=-1){
                    var 接口="http:"+可用接口[0].match(/\/\/.*(url|v|vid|php\?id)=/)[0].replace("..",".");
                }else{
                    var 接口=URL.match(/https?:\/\/[^\/]*/)[0]+可用接口[0].match(/\/.*(url|v|vid|php\?id)=/)[0].replace("..",".");
                }
            }else{
                var 接口="";
            }
        }else if(类型.indexOf("APP(小龟)")!=-1){
            var 接口=e2Rex(分类CODE,".json(parse_api)");
        }else if(类型.indexOf("小主题")!=-1){
            var 接口=e2Rex(分类CODE,".json(parse)");
        }else{
            var 接口="";
        }
        var LIST=[];
        for(var j=0;j<列表.length;j++){
            if(类型.indexOf("CMS")!=-1){
                var 选集=e2Rex(列表[j],选集规则);
                var 选集地址=e2Rex(列表[j],选集地址规则);
                var 接口="";
                if(列表[j].indexOf("$")!=-1){
                    选集=e2Rex(列表[j],选集规则);
                    if(选集==""){
                        选集=j+1;
                    }
                }else{
                    选集=j+1;
                }
            }else if(类型.indexOf("直播订阅")!=-1){
                var 选集=e2Rex(列表[j],选集规则);
                var 选集地址=e2Rex(列表[j],选集地址规则);
                var 接口="";
            }else if(类型.indexOf("接口")!=-1){
                if(类型.indexOf("接口-iptv")!=-1){
                    var 选集=e2Rex(列表[j],选集规则);
                    var 选集地址=e2Rex(列表[j],选集地址规则);
                    if(选集地址.match(/.*(url|v|vid|php\?id)=/)){
                        var 接口=选集地址.match(/.*(url|v|vid|php\?id)=/)[0];
                        var 选集地址=选集地址.split(接口)[1];
                        接口="";
                    }else{
                        var 选集地址=选集地址;
                        var 接口="";
                    }
                }else{
                    var 选集=e2Rex(列表[j],选集规则);
                    var 选集地址=e2Rex(列表[j],选集地址规则);
                    var 接口=接口;
                }
            }else if(类型.indexOf("网页")!=-1){
                var 选集=e2Rex(列表[j],选集规则);
                if(首页地址.indexOf(".php")!=-1){
                    首页地址=e2Rex(首页地址,'.t().tz2(/)');
                }else{
                    首页地址=首页地址;
                }
                var 选集地址=首页地址+e2Rex(列表[j],选集地址规则);
                var 接口="";
            }
            if(接口.indexOf("cache.tegouys.com")!=-1||接口.indexOf("lswwe.com")!=-1||接口.indexOf("x-n.cc")!=-1||接口.indexOf("20.239.162.68")!=-1||接口.indexOf("jhsj.manduhu.com")!=-1||接口.indexOf("v.jhdyw.vip/nhdz666")!=-1||接口.indexOf("svip.jhyun.jx.cn")!=-1||接口.indexOf("svip.jhdyw.vip")!=-1||接口.indexOf("api.xvtt.cn")!=-1||接口.indexOf("svip.jiexi.de")!=-1){
                接口="";
            }else{
                接口=接口;
            }
            if(选集地址.indexOf("m3u8.cache.suoyo.cc")==-1&&选集地址.indexOf(".m3u8")!=-1||选集地址.indexOf(".mp4")!=-1||选集地址.indexOf("/obj/tos")!=-1){
                var 接口="";
            }else if(接口.indexOf("http")!=-1){
                var 接口=接口;
            }else{
                var AddJX=readStr("解析.txt");
                var AddJXCode=String(AddJX);
                eval(AddJXCode);
            }
            if(选集地址.indexOf("CMV-")!=-1){
                接口="";
                选集地址=选集地址.replace("CMV-","https://cokemv.me/vodplay/")+".html";
            }else if(类型.indexOf("网页")!=-1){
                接口="";
                选集地址=选集地址;
            }else{
                接口=接口;
                选集地址=选集地址;
            }
            LIST.push({title:选集,url:接口+选集地址});
        }
        var play_={};
        play_.from=URL;
        play_.title=标题;
        play_.list=LIST;
        items.push(play_);
    }
    detail.push({desc:简介});
    res.data=items;
    res.desc=detail;
    return JSON.stringify(res);
}
var 源码=getVar("源");
if(类型.indexOf("CMS(xml)")!=-1){
    var 简介=e2Rex(源码,".c(类型:).xml(type).c(<br>演员表:).xml(actor).c(<br>简介:).xml(des)");
    var 分类=e2Arr(源码,".get(dd)");
    var 标题规则=".a(flag)";
    var 列表规则=".z2(CDATA\\[\\([\\s\\S]*?\\)[#]*?\\]).fg(#)";
    var 选集规则=".tz($)";
    var 选集地址规则=".z2(\\$\\([^\$|&]*\\)).or().z(.*)";
    选集列表();
}else if(类型.indexOf("CMS(json)")!=-1){
    var 简介=e2Rex(源码,".c(演员表:).json(list).json(vod_actor).c(<br>简介:).json(list).json(vod_content)");
    var 分类=e2Arr(源码.replace(/<.*?>/g,""),".json(list).json(vod_play_url).fg(\\$\\$\\$)");
    var 线路=e2Arr(源码.replace(/<.*?>/g,""),".json(list).json(vod_play_from).fg(\\$\\$\\$)");
    var 标题规则=".t()";
    var 列表规则=".fg(#)";
    var 选集规则=".tz($)";
    var 选集地址规则=".z2(\\$\\(.*\\)).or().z(.*)";
    选集列表();
}else if(类型.indexOf("APP(小龟)")!=-1){
    var 简介=e2Rex(源码,'.json(data).json(vod_content).or().json(data).json(vod_info).json(vod_content)');
    var 分类=e2Arr(源码,'.json(data).json(vod_url_with_player).or().json(data).json(vod_info).json(vod_url_with_player)');
    var 标题规则='.json(name).c(-).json(code)';
    var 列表规则='.json(url).ct(#).z(.*?\\$.*?#)';
    var 选集规则='.z2(\\(.+?\\)\\$)';
    var 选集地址规则='.z2(\\$\(.+?\\)[#|\"])';
    选集列表();
}else if(类型.indexOf("APP(vod)")!=-1){
    var 简介=e2Rex(源码,'.json(data).json(vod_content)');
    var 分类=e2Arr(源码.replace(/\s+/g,""),'.json(data).json(vod_play_list)');
    var 标题规则='.json(player_info).json(show).c(-).json(player_info).json(from)';
    var 列表规则='.json(urls).or().json(url).ct(#).z(.*?\\$.*?#)';
    var 选集规则='.json(name).or().z2(\\(.+?\\)\\$)';
    var 选集地址规则='.json(url).or().z2(\\$\\(.+?\\)[#|\"])';
    选集列表();
}else if(类型.indexOf("小主题")!=-1){
    var 简介=e2Rex(源码,'.json(data).json(vod_content)');
    var 分类=e2Arr(源码.replace(/\s+/g,""),'.json(data).json(vod_play_list)');
    var 标题规则='.json(player_info).json(show).c(-).json(player_info).json(from)';
    var 列表规则='.json(urls).or().json(url).ct(#).z(.*?\\$.*?#)';
    var 选集规则='.json(name).or().z2(\\(.+?\\)\\$)';
    var 选集地址规则='.json(url).or().z2(\\$\\(.+?\\)[#|\"])';
    选集列表();
}else if(类型.indexOf("iptv")!=-1){
    var 简介=e2Rex(源码,'.json(intro)');
    var 分类=e2Arr(源码,'.json(videolist).z(\".*?\\])');
    var 标题规则='.z2(\"\\(.*?\\)\")';
    var 列表规则='.z(\\{.*?\\})';
    var 选集规则='.json(title)';
    var 选集地址规则='.json(url)';
    选集列表();
}else if(类型.indexOf("MX Pro")!=-1){
    var 简介=e2Rex(源码,'.get(div.module-info-introduction-content).t()');
    var 分类=e2Arr(源码,'.get(div[id~=panel.*]).or().get(div#panel1)');
    var 线路=e2Arr(源码,'.z(data-dropdown-value=".+?")');
    var 标题规则='.ty(").tz(")';
    var 列表规则='.get(a[href~=/vodplay/.+]).or().get(a[href~=/vod/play/.+]).or().get(a[href~=/play/.+]).or().get(a[href~=/vod/.+]).or().get(a[href~=/player/.+]).or().get(a[href~=play.+]).or().get(div.module-play-list > a).or().get(div > a)';
    var 选集规则='.get(a).t()';
    var 选集地址规则='.get(a).a(href)';
    选集列表();
}else if(类型.indexOf("MXone")!=-1){
    var 简介=e2Rex(源码,'.get(div.video-info-items).t()');
    var 分类=e2Arr(源码,'.get(div[id~=glist.*]).or().get(div[class~=playlist.*])');
    var 线路=e2Arr(源码,'.z(data-dropdown-value=".+?").or().get(span.module-tab-value)');
    var 标题规则='.ty(").tz(").or().t()';
    var 列表规则='.get(a[href~=/vodplay/.+]).or().get(a[href~=/vod/play/.+]).or().get(div[id~=sort-item.*]).get(a[href~=/play/.+]).or().get(div.scroll-content a[href~=/vplay/.+]).or().get(div[id~=glist.+] div.scroll-content>a)';
    var 选集规则='.get(a).t()';
    var 选集地址规则='.get(a).a(href)';
    选集列表();
}else if(类型.indexOf("首途-1")!=-1){
    var 简介=e2Rex(源码,'.get(div.video-info-items).t()');
    var 分类=e2Arr(源码,'.get(div[id~=playlist.*]).or().get(div.stui-pannel-box.b.playlist.mb)');
    var 标题规则='.get(h3).t()';
    var 列表规则='.get(ul li)';
    var 选集规则='.get(a).t()';
    var 选集地址规则='.get(a).a(href)';
    选集列表();
}else if(类型.indexOf("新海螺")!=-1){
    var 简介=e2Rex(源码,'.get(li.hl-col-xs-12.blurb).t()');
    var 分类=e2Arr(源码,'.get(ul[id~=hl-plays-list.*])');
    var 线路=e2Arr(源码,'.get(a.hl-tabs-btn)');
    var 标题规则='.t()';
    var 列表规则='.get(li)';
    var 选集规则='.get(a).t()';
    var 选集地址规则='.get(a).a(href)';
    选集列表();
}else if(类型.indexOf("v10(影视站)")!=-1){
    var 简介=e2Rex(源码,'.get(span.detail-sketch).t()');
    var 分类=e2Arr(源码,'.get(div[id~=playlist.*] ul).or().get(ul.stui-content__playlist).or().get(div.stui-vodlist__head ul)');
    var 线路=e2Arr(源码,'.get(a[href~=#playlist.+]).or().get(h3)');
    var 标题规则='.t()';
    var 列表规则='.get(li)';
    var 选集规则='.get(a).t()';
    var 选集地址规则='.get(a).a(href)';
    选集列表();
}else if(类型.indexOf("v10(采集站)")!=-1){
    var 简介=e2Rex(源码,'.get(div[id~=desc.*]).t()');
    var 分类=e2Arr(源码,'.get(div[id~=playlist.*])');
    var 标题规则='.get(h3).t()';
    var 列表规则='.get(li)';
    var 选集规则='.get(a.copy_text).t().tz($)';
    var 选集地址规则='.get(a).a(href)';
    选集列表();
}else if(类型.indexOf("直播订阅")!=-1){
    eval(getVar("qjs"));
    if(源码.indexOf("#genre#")!=-1){
        var 分类=源码.split(/.+?#genre#.*/).filter(item=>item.indexOf("://")!=-1);
        var 线路=源码.match(/.+?#genre#.*/g);
        var 列表规则=".z(.+?,.+?://.+)";
        var 标题规则=".tz(,#genre#)";
        var 选集地址规则=".ty(,)";
        var 选集规则=".tz(,)";
        选集列表();
    }else if(源码.indexOf("#EXTINF:")!=-1){
        var code=源码.match(/#EXTINF:.+[\s]+[^#"]+?:\/\/.+/g);
        var res={};var items=[];var d=[];
        for(let index=0;index<code.length;index++){
            function fn(i){
                return function(){
                    if(code[i].indexOf(",")!=-1){
                        var 选集=code[i].match(/,(.*)/)[1]||"无选集名称";var 选集地址=code[i].match(/,.*[\s]+(.+)/)[1]||"无播放地址";
                    }else{
                        var 选集=code[i].match(/.+"(.*)/)[1]||"无选集名称";var 选集地址=code[i].match(/.+[\s]+(.+)/)[1]||"无播放地址";
                    }
                    if(code[i].search(/group-title=".*?"/)!=-1){
                        var type=code[i].match(/group-title="(.*?)"/)[1]||"不规范分类";
                    }else{
                        var type="未分类";
                    }
                    var 当前条目=[];当前条目.push({title:选集,url:选集地址});
                    return {title:type,list:当前条目};
                };
            }
            d.push(fn(index));
        }
        var s=_.submit(d, code.length); //n 改为你想开启的线程数
        for(let i=0;i<s.length;i++){
            for(let z of s[i].get()){
                if(items.length==0){
                    items.push(z);
                }else{
                    let 寻找=items.some(item=>{
                        //判断类型，有就添加到当前项
                        if(item.title == z.title&&item.list.length<100){
                            item.list=item.list.concat(z.list);
                            return true
                        }
                    });
                    if(!寻找){
                        //如果没找相同类型添加一个类型
                        items.push(z);
                    }
                }
            }
        }
        res.data=items;
        JSON.stringify(res);
    }else if(源码.search(/\$c_start.+?\$c_end/)!=-1){
        var 分类=源码.split(/\$c_start.+?\$c_end/).filter(item=>item.indexOf("://")!=-1);
        var 线路=源码.match(/\$c_start.+?\$c_end/g);
        var 列表规则=".z(.+?,.+?://.+)";
        var 标题规则=".ty(c_start).tz($c_end)";
        var 选集地址规则=".ty(,)";
        var 选集规则=".tz(,)";
        选集列表();
    }else{
        var code=源码.match(/.+?,.+?:\/\/.+/g);
        var res={};var items=[];var d=[];
        for(let index=0;index<code.length;index++){
            function fn(i){
                return function(){
                    var 选集=code[i].match(/(.+),/)[1];var 选集地址=code[i].match(/,[\s]*?(.+)/)[1];
                    if(code[i].indexOf("|")!=-1){
                        var type=选集.split("|")[0];
                        var 选集标题=选集.split("|")[1];
                    }else{
                        var type=getVar("name")+"-无子分类";
                        var 选集标题=选集;
                    }
                    var 当前条目=[];当前条目.push({title:选集标题,url:选集地址});
                    return {title:type,list:当前条目};
                };
            }
            d.push(fn(index));
        }
        var s=_.submit(d, code.length); //n 改为你想开启的线程数
        for(let i=0;i<s.length;i++){
            for (let z of s[i].get()){
                if(items.length==0){
                    items.push(z);
                }else{
                    let 寻找=items.some(item=>{
                        //判断类型，有就添加到当前项
                        if(item.title == z.title&&item.list.length<100){
                            item.list=item.list.concat(z.list);
                            return true
                        }
                    });
                    if(!寻找){
                        //如果没找相同类型添加一个类型
                        items.push(z);
                    }
                }
            }
        }
        res.data=items;
        JSON.stringify(res);
    }
}else if(类型.indexOf("e4a")!=-1){
    var 简介="无";
    var 分类=e2Arr(源码,'.c()');
    var 标题规则='全部';
    var 列表规则='.json(zhubo)';
    var 选集规则='.json(title)';
    var 选集地址规则='.json(address)';
    选集列表();
}
######嗅探规则10
var uu=getVar("地址");
var 类型=getVar("类型");
if(uu.indexOf("wd=")!=-1){
    uu=uu.split("wd=")[1];
}else{
    uu=uu;
}
if(类型.indexOf("直播订阅")!=-1){
    if(uu.indexOf("#")!=-1){
        var urls=uu.split("#");
        var items=[];
        for(var i=0;i<urls.length;i++){
            if(urls[i].indexOf(".php")!=-1){
                var resp = JZ(JSON.stringify({ url: urls[i], redirect: false }));
                var u = resp.head.Location || resp.head.location;
                if(!u){
                    u=uu+"&type=.m3u8";
                }
            }else if(urls[i].indexOf("mitv://")!=-1){
                var u=urls[i].replace("mitv://","P2p://");
            }else{
                var u=urls[i];
            }
            items.push({name:"地址"+(i+1),url:u}); 
        }
        JSON.stringify(items);
    }else{
        if(uu.indexOf(".php")!=-1){
            var resp=JZ(JSON.stringify({url:uu,redirect:false}));
            var u=resp.head.Location||resp.head.location;
            if(!u){
                u=uu+"&type=.m3u8";
            }
        }else if(uu.indexOf("mitv://")!=-1){
            var u=uu.replace("mitv://","P2p://");
        }else if(uu.indexOf("www.youtube.com/watch?v=")!=-1){
            var resp=getHttp(JSON.stringify({url:"https://www.azrotv.com/extras/youtube/",post:{"url":uu}}));
            var u=e2Rex(resp,".get(textarea).t()");
        }else{
            var u=uu;
        }
        JSON.stringify({name:"地址",url:u});
    }
}else if(类型.indexOf("e4a")!=-1){
    JSON.stringify({name:"真实播放地址",url:uu});
}else if(类型.indexOf("接口")!=-1){
    if(uu.indexOf("player.4kya.com")!=-1||uu.indexOf("netflixvip.4kya.com")!=-1){
        "web="+uu+'@{"Referer":"https://netflix.mom/"}';
    }else if(uu.indexOf("www.meiju11.com")!=-1){
        'web='+uu+'@{"Referer":"https://www.meiju11.com/"}';
    }else if(uu.indexOf("dmplay.xyz/d?url=")!=-1){
        "web="+uu+'@{"Referer":"https://zy.hikan.xyz/","sec-ch-ua-platform":"Windows","User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.127 Safari/537.36 Edg/100.0.1185.50"}';
    }else if(uu.indexOf("magnet:?xt=")!=-1){
        JSON.stringify({name:"真实播放地址",url:uu});
    }else if(uu.indexOf("api.m3u8.tv:5678")!=-1){
        var resp=JZ(JSON.stringify({url:uu,head:{"User-Agent":"Mozilla/5.0 Android","Cookie":""}}));
        if(e2Rex(resp.code,".json(url)").length>1){
            var realurl=JSON.parse(resp.code).url;
            if(uu.indexOf("mgtv.com")!=-1){
                JSON.stringify({name:"真实播放地址",url:realurl,head:{"User-Agent":"Mozilla/5.0","Referer":""}});
            }else{
                JSON.stringify({name:"真实播放地址",url:realurl});
            }
        }else{
            "web=http://www.llzy.xyz/jiexi.php?url="+uu.split("url=")[1];
        }
    }else if(uu.match(/.*(url|v|u|vid|pid|php\?id)=/)){
        var resp=JZ(JSON.stringify({url:uu,redirect:false,head:{"User-Agent":"Mozilla/5.0 Android"}}));
        if(resp.code.indexOf("<html")!=-1){
            if(resp.code.search(/<div class="video"/)!=-1||resp.code.search(/<div id="video"/)!=-1||resp.code.search(/<div id="[^"]*?player"/)!=-1||resp.code.search(/\/\/视频链接/)!=-1||resp.code.search(/<iframe[\s\S]*?src="[^"]+?"/)!=-1||resp.code.search(/<video[\s\S]*?src="[^"]+?"/)!=-1||resp.code.search(/<div id="jx-content"/)!=-1){
                "web="+uu;
            }else{
                if(uu.match(/.*(url|v|u|vid|pid|php\?id)=/)){
                    var uuu=uu.match(/.*(url|v|u|vid|pid|php\?id)=/)[0];
                    var uuuu=uu.split(uuu)[1];
                    "web=http://www.llzy.xyz/jiexi.php?url="+uuuu;
                }else{
                    "web=http://www.llzy.xyz/jiexi.php?url="+uu;
                }
            }
        }else if(resp.code.indexOf('\"code\":')!=-1&&resp.code.indexOf('\"url\":')!=-1){
            var realurl=e2Rex(resp.code,".json(url).or().json(data).json(url)");
            if(uu.indexOf("mgtv.com")!=-1){
                JSON.stringify({name:"真实播放地址",url:realurl,head:{"User-Agent":"Mozilla/5.0","Referer":""}});
            /*}else if(resp.code.indexOf("header")!=-1){
                var realhead=e2Rex(resp.code,".json(data).json(header)");
                JSON.stringify({name:"真实播放地址",url:realurl+"@"+realhead});*/
            }else{
                JSON.stringify({name:"真实播放地址",url:realurl});
            }
        }else{
            if(uu.match(/.*(url|v|u|vid|pid|php\?id)=/)){
                var uuu=uu.match(/.*(url|v|u|vid|pid|php\?id)=/)[0];
                var uuuu=uu.split(uuu)[1];
                "web=http://www.llzy.xyz/jiexi.php?url="+uuuu;
            }else{
                "web=http://www.llzy.xyz/jiexi.php?url="+uu;
            }
        }
    }else if(uu.indexOf("dxcc.meijutt.top")!=-1){
        JSON.stringify({name:"真实播放地址",url:uu,head:{"User-Agent":"Mozilla/5.0","Referer":"https://www.psinu.com/"}});
    }else if(uu.indexOf(".m3u8")!=-1||uu.indexOf(".mp4")!=-1||uu.indexOf(".flv")!=-1||uu.indexOf("/obj/tos")!=-1||uu.indexOf("gw.crustapps.net")!=-1||uu.indexOf("1anime.club")!=-1){
        JSON.stringify({name:"真实播放地址",url:uu});
    }else{
        "web="+uu;
    }
}else{
    "web="+uu;
}
######更新内容11
【更新内容】

2023/12/03：
适应新版M浏览器更新


Tips：有问题及适配模板请反馈
######检测更新12
var NewVersion="20231203";
var version=e2Rex(getVar("QMINFO"),".xml(version).t()").replace(/\s/g,"");
var NewSign="f6dc3d89035d1db7edead60443414542";
var sign=e2Rex(getVar("QMINFO"),".xml(sign).t()").replace(/\s/g,"");
var NewName="i影视";
var name=e2Rex(getVar("QMINFO"),".xml(name).t()").replace(/\s/g,"");
if(version==NewVersion&&sign==NewSign&&name==NewName){
    "0";
}else{
    "mapi:qm/http://git.llzy.xyz/InMemory/iptv/raw/branch/main/mkz/i影视.mkz";
}
######qjs13
ZXZhbChmdW5jdGlvbihwLGEsYyxrLGUscil7ZT1mdW5jdGlvbihjKXtyZXR1cm4oYzw2Mj8nJzplKHBhcnNlSW50KGMvNjIpKSkrKChjPWMlNjIpPjM1P1N0cmluZy5mcm9tQ2hhckNvZGUoYysyOSk6Yy50b1N0cmluZygzNikpfTtpZignMCcucmVwbGFjZSgwLGUpPT0wKXt3aGlsZShjLS0pcltlKGMpXT1rW2NdO2s9W2Z1bmN0aW9uKGUpe3JldHVybiByW2VdfHxlfV07ZT1mdW5jdGlvbigpe3JldHVybicoWzIzNS05cUMtWl18MVxcdyknfTtjPTF9O3doaWxlKGMtLSlpZihrW2NdKXA9cC5yZXBsYWNlKG5ldyBSZWdFeHAoJ1xcYicrZShjKSsnXFxiJywnZycpLGtbY10pO3JldHVybiBwfSgnKDMoKXsyIF89e307MiBtPTEuMDsyIHI9MTAub3MuRW52aXJvbm1lbnQuZ2V0RXh0ZXJuYWxTdG9yYWdlRGlyZWN0b3J5KCk7MiBzPTEwLndlYmtpdC5NaW1lVHlwZU1hcC5nZXRTaW5nbGV0b24oKTsyIHQ9TS5pbzsyIHU9TS4xbjsyIHY9dC5OLnNlcGFyYXRvcjsyIHc9MW8oKSt2K1wncW1cJyt2K0MoKS4xMS5PKDAsNCkrXCckJCRcJytDKCkuMTIrdjtEPSgxcCk9PjFxIDFwPT09XCdzdHJpbmdcJzszIDEzKGEpe2NvbnN0IDE0PTFxIGE7NSBhIT1QJiYoMTQ9PVwnb2JqZWN0XCd8fDE0PT1cJzNcJyl9MiB5PU0udXRpbC5jb25jdXJyZW50OzIgej02IHkuRXhlY3V0b3JzLm5ld0NhY2hlZFRocmVhZFBvb2woKTszIFEoYSl7MXI9ezFzOjMoKXs1IGEoKX0sfTsyIGI9NiB5LkZ1dHVyZVRhc2soMXIpO3ouUihiKTs1IGJ9MyBTKGEsYil7RSBGPTA7RSAxNT1bXTtHKEY8YS44KXsxNS4xNihhLnNsaWNlKEYsRitiKSk7Ris9Yn01IDE1LmZpbHRlcigobyk9Pm8uOD4wKX0zIFIobCxuKXtjPVtdO1Q9UyhsLGwuOC9uKTsyIG49MDtHKG48VC44KXszIGwoeCl7NSAzIG8oKXsyIGE9W107MTcoRSBpPTA7aTxUW3hdLjg7aSsrKXthLjE2KFRbeF1baV0oKSl9NSBhfX1jLjE2KFEobChuKSkpO24rK301IGN9MyBVKGYpezIgYT1mLmdldFBhcmVudEZpbGUoKTs3KCFhLjF0KCkpYS5VKCl9MyA5KGEsYil7MiBjPTYgdC5OKHcrXCfmlbDmja5cJyt2K2IpO1UoYyk7MiBkPTYgdC5GaWxlV3JpdGVyKGMsMTgpO2QuOShhKTtkLkgoKX0zIEkoYSl7MiBiPTYgdC5OKHcrXCfmlbDmja5cJyt2K2EpOzIgYz0wOzcoIWIuMXQoKXx8KGM9Yi44KCkpPT0wKTVcJ1wnOzIgZD11LjF1LjF2LjF3KHUuMXguMXksYyk7MiBlPTYgdC5GaWxlSW5wdXRTdHJlYW0oYik7ZS5JKGQpO2UuSCgpOzUgNiB1LlN0cmluZyhkKX0yIEE9MXoub3JnLmpzb3VwOzIgQj1BLkNvbm5lY3Rpb24uTWV0aG9kOzMgVihvKXtFezE5LHEsSiwxYSwxYixXLHJlfT1vOzIgYT1BLkpzb3VwLmNvbm5lY3QoMTkpO2EuaWdub3JlQ29udGVudFR5cGUoWCk7YS5wb3N0RGF0YUNoYXJzZXQoMWIpO2EubWF4Qm9keVNpemUoMTA0ODU3NjAwMCk7cmU9PT0xOD9hLjFBKHJlKTphLjFBKFgpOzcoMTMocSkpMTcoeCBpbiBxKWEucSh4LHFbeF0pOzcoMTMoSikpezcoMWE9PT1YKWEucmVxdWVzdEJvZHkoSik7MUMgMTcocCBpbiBKKWEuZGF0YShwLEpbcF0pfTIgYjs3KDFhPT09WHx8Vz09XCdwb3N0XCcpYj1hLlcoQi5QT1NUKS4xRCgpOzFDIGI9YS5XKEIuR0VUKS4xRCgpOzUgYn0zIDFFKGEsYil7YS4xYihiKTs1IGEuYm9keSgpfTMgMUYoYSxiKXs1IGIrXCc9XCcrYS5jb29raWUoYil9MyAxRyhhKXsyIGI9XCdcJzsyIGM9YS5jb29raWVzKCkuMUgoKS4xSSgpO0coYy4xSigpKXsyIGQ9Yy4xSygpO2IrPWQuMUwoKStcJz1cJytkLjFNKCkrXCc7XCd9NSBifTMgMU4oYSxiKXs1IGEucShiKX0zIDFPKGEpezIgYj1cJ1wnOzIgYz1hLmhlYWRlcnMoKS4xSCgpLjFJKCk7RyhjLjFKKCkpezIgZD1jLjFLKCk7Yis9ZC4xTCgpK1wnPVwnK2QuMU0oKStcJztcJ301IGJ9MyAxZChhKXsyIGI9YS4xZShcJy9cJyk7NyhhLjgoKT09YisxKXthPWEuTygwLGIpOzUgMWQoYSl9NSBhLk8oMCxhLjFlKFwnLlwnKSl9MyAxZihvKXt0cnl7RXsxZywxUH09bzsyIGE9VihvKTsyIGI9MWQoYS4xOSgpLjFoKCkpOzIgYz1zLmdldEV4dGVuc2lvbkZyb21NaW1lVHlwZShhLmNvbnRlbnRUeXBlKCkuc3BsaXQoXCc7XCcpWzBdKTsyIGQ9Yi5PKGIuMWUoXCcvXCcpKzEpK1wnLlwnK2M7Sz1EKDFnKT8xZyt2K2Q6dytcJ+S4i+i9vVwnK3YrZDsyIGY9YS5ib2R5U3RyZWFtKCk7MiBnPTYgdS4xdS4xdi4xdyh1LjF4LjF5LDQwOTYpOzIgaD0wOzIgaT02IHQuQnl0ZUFycmF5T3V0cHV0U3RyZWFtKCk7RygoaD1mLkkoZykpIT0tMSl7aS45KGcsMCxoKX0yIGo9NiB0Lk4oSyk7VShqKTsyIGs9NiB0LkZpbGVPdXRwdXRTdHJlYW0oaik7ay45KGkudG9CeXRlQXJyYXkoKSk7NygxUD09PTE4KTUgSztMKFwn5LiL6L295oiQ5Yqf77yM6Lev5b6EOlwnK0spOzUgS31jYXRjaChlKXtZKGUpO0woXCfkuIvovb3lpLHotKUs6K+35omT5byA6LCD6K+V5Y+w5p+l55yL5YW35L2T5byC5bi45L+h5oGvXCcpfWZpbmFsbHl7NyhpIT1QKWkuSCgpOzcoayE9UClrLkgoKTs3KGYhPVApZi5IKCl9fTMgWShlKXtEKGUpP+aKpemUmShlKTrmiqXplJkoZS4xaCgpKX0zIEwoYSl7YWxlcnQoYSl9MyAxaSgpezYgMXouMTAuYXBwLkluc3RydW1lbnRhdGlvbigpLnNlbmRLZXlEb3duVXBTeW5jKDQpfTMgMW8oKXs1IHIuZ2V0QWJzb2x1dGVQYXRoKCkuMWgoKX0zIFooYSl7TS4xbi5UaHJlYWQuWihhKX0zIEMoKXtvPXt9O28uMTE9MWooMWsoXCcxbFwnKSxcJy4xbSgxMSkudCgpXCcpO28uMVE9MWooMWsoXCcxbFwnKSxcJy4xbSgxUSkudCgpXCcpO28uMTI9MWooMWsoXCcxbFwnKSxcJy4xbSgxMikudCgpXCcpOzUgb31fLlZFUlNJT049bTtfLkk9STtfLjk9OTtfLlo9WjtfLlE9UTtfLlI9UjtfLlM9UztfLjFpPTFpO18uRD1EO18uVj1WO18uYmQ9MUU7Xy5jaz0xRjtfLmNrcz0xRztfLmhkPTFOO18uaGRzPTFPO18uMWY9MWY7Xy5DPUM7Xy5MPUw7Xy5ZPVk7MVIuXz1ffS4xcygxUikpOycsW10sMTE2LCd8fHZhcnxmdW5jdGlvbnx8cmV0dXJufG5ld3xpZnxsZW5ndGh8d3JpdGV8fHx8fHx8fHx8fHx8fHx8fGhlYWRlcnx8fHx8fHx8fHx8fGluZm98aXNTdHJpbmd8bGV0fGluZGV4fHdoaWxlfGNsb3NlfHJlYWR8cGFyYW1zfHNhdmVwYXRofHRvYXN0fGphdmF8RmlsZXxzdWJzdHJpbmd8bnVsbHx0aHJlYWR8c3VibWl0fGNodW5rfGxpc3R8bWtkaXJzfGh0dHB8bWV0aG9kfHRydWV8ZXJyb3J8c2xlZXB8YW5kcm9pZHxzaWdufG5hbWV8aXNPYmplY3R8dHlwZXxyZXN8cHVzaHxmb3J8ZmFsc2V8dXJsfGpzb258Y2hhcnNldHx8dHJpbVV8bGFzdEluZGV4T2Z8ZG93bmxvYWR8c2V0cGF0aHx0b1N0cmluZ3xiYWNrfGUyUmV4fGdldFZhcnxRTUlORk98Z2V0fGxhbmd8cGF0aHx2YWx8dHlwZW9mfG9ianxjYWxsfGV4aXN0c3xyZWZsZWN0fEFycmF5fG5ld0luc3RhbmNlfEJ5dGV8VFlQRXxQYWNrYWdlc3xmb2xsb3dSZWRpcmVjdHN8fGVsc2V8ZXhlY3V0ZXxodHRwQm9keXxodHRwQ29va2llfGh0dHBDb29raWVzfGVudHJ5U2V0fGl0ZXJhdG9yfGhhc05leHR8bmV4dHxnZXRLZXl8Z2V0VmFsdWV8aHR0cEhlYWRlcnxodHRwSGVhZGVyc3x0aXBzfHZlcnNpb258dGhpcycuc3BsaXQoJ3wnKSwwLHt9KSk=